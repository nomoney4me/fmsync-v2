# Copy to .env and fill in values

# Blackbaud Sky API
BLACKBAUD_API_BASE_URL=https://api.sky.blackbaud.com
BLACKBAUD_CLIENT_ID=
BLACKBAUD_CLIENT_SECRET=
BLACKBAUD_REFRESH_TOKEN=   # Run `npm run bb:auth` to obtain (saved to .env automatically)
BB_API_SUBSCRIPTION_KEY1=   # or BB_API_SUBSCRIPTION_KEY2
BB_CHECKLIST_ADVANCE_LIST_ID=
# Candidates API (AFE-EDEMS): set BB_USE_CANDIDATES_API=1 to use /candidates + /checklists instead of Advance list
# BB_USE_CANDIDATES_API=1
# BB_CANDIDATES_SCHOOL_YEAR=   # e.g. 2025 (normalized to 2024 - 2025)
# BB_CANDIDATES_SIZE=3000
# BB_CHECKLIST_FETCH_MODIFIED_HOURS=24   # Only fetch checklist for candidates modified in last N hours

# Processor / stages: which table to read checklist data from (default: checklist_items for Advance list)
# CHECKLIST_TABLE=candidate_checklist_items   # Use when BB_USE_CANDIDATES_API=1

# Dev: poll every 1 min (default in NODE_ENV=development). Prod: every 15 min.
# BLACKBAUD_POLL_CRON=*/1 * * * *
# BB_MAX_CONCURRENT_STORES=5   # Max parallel page inserts (default 5)
# BB_FETCH_CONCURRENCY=5       # Parallel fetch workers (default 5)
# BB_RUNNING_FILE=             # Lock file path (default: status/blackbaud-poller.running in repo root)
# BB_RUNNING_STALE_HOURS=1     # Treat .running as stale after N hours (default 1)

# OAuth flow (when running npm run bb:auth)
# BB_AUTH_REDIRECT_URI=http://localhost:3001/bb-callback
# BB_AUTH_PORT=3001
# BLACKBAUD_ENV_FILE=     # .env path for token persistence (default: project root)

# HubSpot
HUBSPOT_ACCESS_TOKEN=
HUBSPOT_DEAL_PROPERTY_BLACKBAUD_ID=blackbaud_user_id
# Dev: poll every 1 min (default). Prod: every 15 min.
# HUBSPOT_POLL_CRON=*/15 * * * *
# HUBSPOT_RUNNING_FILE=             # Lock file (default: status/hubspot-poller.running in repo root)
# HUBSPOT_RUNNING_STALE_HOURS=1     # Treat .running as stale after N hours (default 1)

# Database (Docker default)
DATABASE_URL=postgresql://fm_sync:fm_sync_dev@localhost:5432/fm_sync

# Logging (optional)
# LOG_LEVEL=debug
# LOG_FILE=fm-sync.log   # Log file path (default: fm-sync.log in cwd)